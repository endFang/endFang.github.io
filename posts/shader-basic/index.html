<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Shader Basic | After1995</title>
<meta name=keywords content="Shader,Computer Graphics">
<meta name=description content="Basics  shader language has a single main that returns color at the end final pixel color is assigned to gl_FragColor C-flavored language has built in variable, function, type preprocessor macros (pre-compiled)  #define global variable #ifdef and #endif   lower precision → faster rendering, less quality  precision medium float precision lowp float precision highp float   GLSL specs doesn&rsquo;t guarantee auto-cast  vec4(1, 0, 0, 1) will raise error, because it&rsquo;s not float   multiple ways of constructing vec4  vec4 color = vec4(vec3(1.">
<meta name=author content="Kyle Fang">
<link rel=canonical href=https://endfang.github.io/posts/shader-basic/>
<meta name=google-site-verification content="XYZabc">
<meta name=yandex-verification content="XYZabc">
<meta name=msvalidate.01 content="XYZabc">
<link crossorigin=anonymous href=/assets/css/stylesheet.min.9f1d947375927e9847272b1f4e9be81336f539e513bf04d52cade31f81cad1af.css integrity="sha256-nx2Uc3WSfphHJysfTpvoEzb1OeUTvwTVLK3jH4HK0a8=" rel="preload stylesheet" as=style>
<link rel=preload href=/apple-touch-icon.png as=image>
<script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://endfang.github.io/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=https://endfang.github.io/favicon-16x16.ico>
<link rel=icon type=image/png sizes=32x32 href=https://endfang.github.io/favicon-32x32.ico>
<link rel=apple-touch-icon href=https://endfang.github.io/apple-touch-icon.png>
<link rel=mask-icon href=https://endfang.github.io/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.88.1">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript><meta property="og:title" content="Shader Basic">
<meta property="og:description" content="Basics  shader language has a single main that returns color at the end final pixel color is assigned to gl_FragColor C-flavored language has built in variable, function, type preprocessor macros (pre-compiled)  #define global variable #ifdef and #endif   lower precision → faster rendering, less quality  precision medium float precision lowp float precision highp float   GLSL specs doesn&rsquo;t guarantee auto-cast  vec4(1, 0, 0, 1) will raise error, because it&rsquo;s not float   multiple ways of constructing vec4  vec4 color = vec4(vec3(1.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://endfang.github.io/posts/shader-basic/"><meta property="og:image" content="https://endfang.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2019-09-23T18:35:07+08:00">
<meta property="article:modified_time" content="2019-09-23T18:35:07+08:00"><meta property="og:site_name" content="After1995">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://endfang.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E">
<meta name=twitter:title content="Shader Basic">
<meta name=twitter:description content="Basics  shader language has a single main that returns color at the end final pixel color is assigned to gl_FragColor C-flavored language has built in variable, function, type preprocessor macros (pre-compiled)  #define global variable #ifdef and #endif   lower precision → faster rendering, less quality  precision medium float precision lowp float precision highp float   GLSL specs doesn&rsquo;t guarantee auto-cast  vec4(1, 0, 0, 1) will raise error, because it&rsquo;s not float   multiple ways of constructing vec4  vec4 color = vec4(vec3(1.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://endfang.github.io/posts/"},{"@type":"ListItem","position":3,"name":"Shader Basic","item":"https://endfang.github.io/posts/shader-basic/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Shader Basic","name":"Shader Basic","description":"Basics  shader language has a single main that returns color at the end final pixel color is assigned to gl_FragColor C-flavored language has built in variable, function, type preprocessor macros (pre-compiled)  #define global variable #ifdef and #endif   lower precision → faster rendering, less quality  precision medium float precision lowp float precision highp float   GLSL specs doesn\u0026rsquo;t guarantee auto-cast  vec4(1, 0, 0, 1) will raise error, because it\u0026rsquo;s not float   multiple ways of constructing vec4  vec4 color = vec4(vec3(1.","keywords":["Shader","Computer Graphics"],"articleBody":"Basics  shader language has a single main that returns color at the end final pixel color is assigned to gl_FragColor C-flavored language has built in variable, function, type preprocessor macros (pre-compiled)  #define global variable #ifdef and #endif   lower precision → faster rendering, less quality  precision medium float precision lowp float precision highp float   GLSL specs doesn’t guarantee auto-cast  vec4(1, 0, 0, 1) will raise error, because it’s not float   multiple ways of constructing vec4  vec4 color = vec4(vec3(1., 1., 0.), 1.);    Uniform \u0026 Varying  GPU has multiple threads calculating a portion of the color, each parallel thread is blind to others. The input sent from CPU to GPU are equal and read only to all the threads. These are uniforms. supported type: float, vec2, vec3, vec4, mat2, mat3, mat4, sampler2D, samplerCube uniforms are defined on the top of the shader after the point precision assigning.  #ifdef GL_ES precision mediump float; #endif uniform vec2 u_resolution; // canvas size (width, height) uniform vec2 u_mouse; // mouse position in screen pixels uniform float u_time; // TIme in seconds since load  GPU hardware has accelerated angle, trigonometric, and exponential functions  sin(), cos(), tan(), asin(), acos(), atan(), pow(), exp(), log() …   gl_FragColor is the default input. It holds the pixel coordinates of the pixels or screen of fragment that the active thread is working on. It’s not a uniform, because threads have it differently, it’s a varying. A varying variable contains data shared from vertex shader to a fragment shader.  ","wordCount":"245","inLanguage":"en","datePublished":"2019-09-23T18:35:07+08:00","dateModified":"2019-09-23T18:35:07+08:00","author":{"@type":"Person","name":"Kyle Fang"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://endfang.github.io/posts/shader-basic/"},"publisher":{"@type":"Organization","name":"After1995","logo":{"@type":"ImageObject","url":"https://endfang.github.io/favicon.ico"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://endfang.github.io accesskey=h title="After1995 (Alt + H)">
<img src=/apple-touch-icon.png alt=logo aria-label=logo height=35>After1995</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=https://endfang.github.io/archives/ title=archives>
<span>archives</span>
</a>
</li>
<li>
<a href=https://endfang.github.io/categories/ title=categories>
<span>categories</span>
</a>
</li>
<li>
<a href=https://endfang.github.io/tags/ title=tags>
<span>tags</span>
</a>
</li>
<li>
<a href=https://endfang.github.io/about/ title=about>
<span>about</span>
</a>
</li>
<li>
<a href=https://endfang.github.io/search/ title="search (Alt + /)" accesskey=/>
<span>search</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<div class=breadcrumbs><a href=https://endfang.github.io>Home</a>&nbsp;»&nbsp;<a href=https://endfang.github.io/posts/>Posts</a></div>
<h1 class=post-title>
Shader Basic
</h1>
<div class=post-meta>September 23, 2019&nbsp;·&nbsp;Kyle Fang
</div>
</header> <div class=toc>
<details open>
<summary accesskey=c title="(Alt + C)">
<span class=details>Table of Contents</span>
</summary>
<div class=inner><ul>
<li>
<a href=#basics aria-label=Basics>Basics</a></li>
<li>
<a href=#uniform--varying aria-label="Uniform &amp;amp; Varying">Uniform & Varying</a>
</li>
</ul>
</div>
</details>
</div>
<div class=post-content><h1 id=basics>Basics<a hidden class=anchor aria-hidden=true href=#basics>#</a></h1>
<ul>
<li>shader language has a single main that returns color at the end</li>
<li>final pixel color is assigned to gl_FragColor</li>
<li>C-flavored language has built in variable, function, type</li>
<li>preprocessor macros (pre-compiled)
<ul>
<li><code>#define</code> global variable</li>
<li><code>#ifdef</code> and <code>#endif</code></li>
</ul>
</li>
<li>lower precision → faster rendering, less quality
<ul>
<li><code>precision medium float</code></li>
<li><code>precision lowp float</code></li>
<li><code>precision highp float</code></li>
</ul>
</li>
<li>GLSL specs doesn&rsquo;t guarantee auto-cast
<ul>
<li><code>vec4(1, 0, 0, 1)</code> will raise error, because it&rsquo;s not float</li>
</ul>
</li>
<li>multiple ways of constructing vec4
<ul>
<li><code>vec4 color = vec4(vec3(1., 1., 0.), 1.);</code></li>
</ul>
</li>
</ul>
<h1 id=uniform--varying>Uniform & Varying<a hidden class=anchor aria-hidden=true href=#uniform--varying>#</a></h1>
<ul>
<li>GPU has multiple threads calculating a portion of the color, each parallel thread is blind to others. The input sent from CPU to GPU are equal and <em>read only</em> to all the threads. These are <strong>uniforms</strong>.</li>
<li>supported type: <em>float, vec2, vec3, vec4, mat2, mat3, mat4, sampler2D, samplerCube</em></li>
<li>uniforms are defined on the top of the shader after the point precision assigning.</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-glsl data-lang=glsl><span style=color:#75715e>#ifdef GL_ES</span>
<span style=color:#66d9ef>precision</span> <span style=color:#66d9ef>mediump</span> <span style=color:#66d9ef>float</span>;
<span style=color:#75715e>#endif</span>

<span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>vec2</span> u_resolution; <span style=color:#75715e>// canvas size (width, height)</span>
<span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>vec2</span> u_mouse; <span style=color:#75715e>// mouse position in screen pixels</span>
<span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>float</span> u_time; <span style=color:#75715e>// TIme in seconds since load</span>
</code></pre></div><ul>
<li>GPU hardware has accelerated angle, trigonometric, and exponential functions
<ul>
<li><em>sin(), cos(), tan(), asin(), acos(), atan(), pow(), exp(), log() &mldr;</em></li>
</ul>
</li>
<li><code>gl_FragColor</code> is the default input. It holds the pixel coordinates of the pixels or screen of fragment that the active thread is working on. It&rsquo;s not a uniform, because threads have it differently, it&rsquo;s a <strong>varying</strong>. A varying variable contains data shared from vertex shader to a fragment shader.</li>
</ul>
</div>
<footer class=post-footer>
<a rel=license href=http://creativecommons.org/licenses/by-nc/4.0/>
<img alt="Creative Commons License" style=border-width:0 src=https://i.creativecommons.org/l/by-nc/4.0/88x31.png>
</a><p style=font-size:small>This work is licensed under a <a rel=license href=http://creativecommons.org/licenses/by-nc/4.0/>Creative Commons Attribution-NonCommercial 4.0 International License</a>.</p>
<br>
<ul class=post-tags>
<li><a href=https://endfang.github.io/tags/shader/>Shader</a></li>
<li><a href=https://endfang.github.io/tags/computer-graphics/>Computer Graphics</a></li>
</ul>
<nav class=paginav>
<a class=prev href=https://endfang.github.io/posts/gujian-3/>
<span class=title>« Prev Page</span>
<br>
<span>放假后从早玩到晚的古剑奇谭3</span>
</a>
<a class=next href=https://endfang.github.io/posts/jibber-jabber-07/>
<span class=title>Next Page »</span>
<br>
<span>Jibber Jabber 07</span>
</a>
</nav>
</footer>
</article>
</main>
<footer class=footer>
<span>&copy; 2022 <a href=https://endfang.github.io>After1995</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>